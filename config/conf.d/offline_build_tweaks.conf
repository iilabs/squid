# Additional tuning for offline-friendly build caches.

# Allow Squid to serve stale objects when the origin is unreachable.
offline_mode on

# Keep hot, large artifacts in cache instead of evicting by size alone.
cache_replacement_policy heap LFUDA
memory_replacement_policy heap GDSF

# Deduplicate concurrent downloads of the same layer or package.
collapsed_forwarding on

# Permit caching of arbitrarily large range responses (useful for image layers).
range_offset_limit -1
